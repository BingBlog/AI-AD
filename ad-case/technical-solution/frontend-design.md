# 前端 UI 展示技术方案

> **技术选型确认**：
>
> - ✅ 前端框架：React + TypeScript
> - ✅ UI 组件库：Ant Design 5（完全使用）
> - ✅ 状态管理：Zustand
> - ✅ 数据获取：React Query (TanStack Query)
> - ✅ 路由管理：React Router v6
> - ✅ HTTP 客户端：Axios
> - ✅ 构建工具：Vite
> - ✅ 样式方案：Ant Design (Less) + CSS 变量统一
>
> **详细对比分析**：见 `frontend-ui-comparison.md`

## 1. 方案概述

### 1.1 目标

设计并实现一个现代化、易用的前端界面，支持广告案例的检索、筛选、浏览和详情查看，帮助用户在 5 分钟内快速找到 3-5 个相关的高质量案例。

### 1.2 核心功能

- **关键词搜索**：全文搜索，支持搜索建议和自动补全
- **多维度筛选**：品牌、行业、活动类型、标签、时间范围等
- **排序功能**：相关性、时间、评分、收藏数
- **列表展示**：卡片式布局，展示案例关键信息
- **详情展示**：完整的案例信息、图片、视频展示
- **分页/无限滚动**：支持分页浏览或无限滚动加载

### 1.3 设计原则

- **简洁易用**：界面简洁直观，学习成本低
- **快速响应**：检索结果即时呈现，响应时间 < 2 秒
- **信息完整**：案例信息完整，可直接用于方案设计
- **响应式设计**：适配不同屏幕尺寸，支持移动端访问

## 2. 技术选型

### 2.1 前端框架

**推荐：React + TypeScript**

**理由**：

- ✅ 组件化开发，代码复用性高
- ✅ 生态完善，丰富的 UI 组件库
- ✅ TypeScript 提供类型安全
- ✅ 性能优秀，虚拟 DOM 机制
- ✅ 社区活跃，学习资源丰富

**备选：Vue 3 + TypeScript**

- 如果团队更熟悉 Vue，可以考虑
- 学习曲线相对平缓
- 性能同样优秀

### 2.2 UI 组件库

**确认：Ant Design 5（完全使用）**

**选择理由**：

- ✅ **组件丰富**：60+ 个组件，覆盖所有使用场景

  - 表单组件：Input、Select、DatePicker、Form 等
  - 数据展示：Table、List、Card、Tag、Badge 等
  - 导航组件：Menu、Breadcrumb、Pagination 等
  - 反馈组件：Message、Modal、Notification、Drawer 等
  - 布局组件：Layout、Grid、Space 等

- ✅ **企业级验证**：广泛应用于企业级应用，稳定可靠
- ✅ **中文文档完善**：详细的中文文档，学习成本低
- ✅ **TypeScript 支持**：完整的类型定义，类型安全
- ✅ **主题定制**：支持通过 Less 变量和 ConfigProvider 灵活定制主题
- ✅ **响应式设计**：内置响应式栅格系统，适配各种屏幕
- ✅ **国际化支持**：内置 50+ 种语言支持
- ✅ **表单处理强大**：内置验证、联动、动态字段等功能
- ✅ **性能优化**：支持按需引入，Tree Shaking 优化打包体积

**使用策略**：

- 所有 UI 组件统一使用 Ant Design
- 通过 `ConfigProvider` 统一配置主题
- 使用 Less 变量进行深度定制
- 按需引入组件，优化打包体积

### 2.3 状态管理

**确认：Zustand**

**理由**：

- ✅ 轻量级，API 简洁，适合中小型应用
- ✅ 学习成本低，上手快
- ✅ 性能优秀，无需额外配置
- ✅ TypeScript 支持好

**使用场景**：

- 客户端状态管理（搜索关键词、筛选条件等）
- 配合 React Query 处理服务端状态（案例列表、详情等）

### 2.4 路由管理

**推荐：React Router v6**

**理由**：

- ✅ React 生态标准路由方案
- ✅ 支持嵌套路由、动态路由
- ✅ 代码分割和懒加载支持好

### 2.5 HTTP 客户端

**推荐：Axios**

**理由**：

- ✅ 功能强大，支持拦截器
- ✅ 自动 JSON 转换
- ✅ 请求/响应拦截
- ✅ 错误处理完善

### 2.6 构建工具

**推荐：Vite**

**理由**：

- ✅ 开发服务器启动快
- ✅ 热更新速度快
- ✅ 生产构建优化好
- ✅ 配置简单

**备选：Create React App**

- 如果团队更熟悉 CRA，可以使用
- 配置更标准化

### 2.7 样式方案

**推荐：Ant Design (Less) + Tailwind CSS (shadcn/ui) + CSS 变量统一**

**方案说明**：

1. **Ant Design 组件**：

   - 使用 Less 变量和主题配置
   - 通过 `ConfigProvider` 统一主题
   - 支持按需引入，减少打包体积

2. **shadcn/ui 组件**：

   - 使用 Tailwind CSS
   - 通过 `tailwind.config.js` 配置
   - 完全控制样式

3. **样式统一**：
   - 使用 CSS 变量定义主题色、圆角等
   - Ant Design 和 Tailwind 都引用相同的 CSS 变量
   - 确保整体风格一致

**配置示例**：

```css
/* 全局 CSS 变量 */
:root {
  --primary-color: #1890ff;
  --border-radius: 6px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial;
}
```

```tsx
// Ant Design 主题配置
<ConfigProvider
  theme={{
    token: {
      colorPrimary: "var(--primary-color)",
      borderRadius: "var(--border-radius)",
    },
  }}>
  <App />
</ConfigProvider>
```

```less
// src/components/CaseCard/index.module.less - CSS Modules 示例
.caseCard {
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);

  .title {
    color: var(--text-color);
    font-family: var(--font-family);
  }
}
```

**优势**：

- ✅ 兼顾开发效率和定制化
- ✅ 样式统一，避免冲突
- ✅ 主题切换方便（只需修改 CSS 变量）

### 2.8 技术栈总结

| 技术        | 选型                            | 版本要求 |
| ----------- | ------------------------------- | -------- |
| 前端框架    | React                           | 18+      |
| 语言        | TypeScript                      | 5+       |
| UI 组件库   | Ant Design                      | 5+       |
| 状态管理    | Zustand                         | 4+       |
| 数据获取    | React Query (TanStack Query)    | 5+       |
| 路由        | React Router                    | 6+       |
| HTTP 客户端 | Axios                           | 1+       |
| 构建工具    | Vite                            | 5+       |
| 样式方案    | Ant Design (Less) + CSS Modules | -        |

## 3. 页面结构设计

### 3.1 整体布局

```
┌─────────────────────────────────────────────────┐
│                  Header (导航栏)                 │
│  Logo | 搜索框 | 筛选按钮 | 用户信息              │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌──────────────────┐  ┌─────────────────────┐ │
│  │                  │  │                     │ │
│  │   筛选侧边栏      │  │   案例列表区域       │ │
│  │                  │  │                     │ │
│  │  - 品牌筛选      │  │  [案例卡片]          │ │
│  │  - 行业筛选      │  │  [案例卡片]          │ │
│  │  - 活动类型      │  │  [案例卡片]          │ │
│  │  - 标签筛选      │  │  ...                │ │
│  │  - 时间范围      │  │                     │ │
│  │  - 评分筛选      │  │  [分页器]            │ │
│  │                  │  │                     │ │
│  └──────────────────┘  └─────────────────────┘ │
│                                                 │
├─────────────────────────────────────────────────┤
│                  Footer (页脚)                   │
└─────────────────────────────────────────────────┘
```

### 3.2 页面路由设计

```
/                          # 首页（重定向到 /cases）
/cases                     # 案例列表页（主要页面）
  ├─ /cases?query=xxx     # 带搜索关键词
  ├─ /cases?brand=xxx    # 带筛选条件
  └─ /cases?page=2       # 分页
/cases/:id                 # 案例详情页
/about                     # 关于页面（可选）
```

### 3.3 响应式布局

**桌面端（≥ 1200px）**：

- 筛选侧边栏固定显示在左侧
- 案例列表区域占据右侧主要空间
- 每行显示 3-4 个案例卡片

**平板端（768px - 1199px）**：

- 筛选侧边栏可折叠，默认收起
- 案例列表区域占据主要空间
- 每行显示 2-3 个案例卡片

**移动端（< 768px）**：

- 筛选侧边栏改为抽屉式（Drawer）
- 案例列表区域全宽显示
- 每行显示 1-2 个案例卡片
- 搜索框固定在顶部

## 4. 功能模块设计

### 4.1 搜索模块

#### 4.1.1 搜索框组件

- **位置**：Header 中央或页面顶部
- **功能**：
  - 关键词输入
  - 搜索建议（下拉提示）
  - 搜索历史（可选）
  - 清空按钮
  - 搜索按钮/回车搜索

#### 4.1.2 搜索建议

- 基于用户输入实时显示建议
- 显示热门搜索词
- 支持键盘导航（上下键选择，回车确认）

#### 4.1.3 搜索历史

- 本地存储最近 10 条搜索记录
- 点击历史记录快速搜索

### 4.2 筛选模块

#### 4.2.1 筛选侧边栏

- **品牌筛选**：

  - 搜索框 + 下拉选择
  - 支持多选
  - 显示品牌数量统计

- **行业筛选**：

  - 下拉选择框
  - 单选或多选（根据需求）
  - 显示行业数量统计

- **活动类型筛选**：

  - 复选框组
  - 支持多选
  - 显示活动类型数量统计

- **标签筛选**：

  - 标签云或复选框组
  - 支持多选
  - 显示标签数量统计

- **时间范围筛选**：

  - 日期选择器（RangePicker）
  - 快捷选项：最近一周、最近一月、最近一年
  - 自定义时间范围

- **评分筛选**：
  - 滑块或下拉选择
  - 最低评分选择（1-5 星）

#### 4.2.2 筛选条件展示

- 在筛选区域顶部显示已选条件
- 支持快速清除单个条件或全部清除
- 显示当前筛选结果数量

### 4.3 排序模块

#### 4.3.1 排序选择器

- **位置**：案例列表上方
- **选项**：
  - 相关性（默认）
  - 时间（最新/最旧）
  - 评分（最高/最低）
  - 收藏数（最多/最少）

#### 4.3.2 排序方向

- 升序/降序切换按钮
- 或通过下拉选择器选择

### 4.4 案例列表模块

#### 4.4.1 案例卡片设计

```
┌─────────────────────────────────────┐
│  [主图]                              │
│                                      │
├─────────────────────────────────────┤
│  案例标题（支持关键词高亮）            │
│  品牌名称 | 行业 | 活动类型           │
│  发布时间 | 评分 ⭐⭐⭐⭐⭐          │
│  [标签1] [标签2] [标签3]              │
│  案例描述（摘要，支持关键词高亮）      │
│  💖 收藏数 | 📊 查看详情              │
└─────────────────────────────────────┘
```

#### 4.4.2 卡片信息展示

- **主图**：案例主图，支持懒加载
- **标题**：案例标题，支持关键词高亮
- **元信息**：品牌、行业、活动类型、发布时间
- **评分**：星级显示 + 数字评分
- **标签**：标签列表，最多显示 3-5 个
- **描述**：案例描述摘要（截取前 100 字），支持关键词高亮
- **操作**：收藏按钮、查看详情按钮

#### 4.4.3 列表布局

- **网格布局**：响应式网格，自适应列数
- **间距**：卡片间距统一，视觉舒适
- **加载状态**：骨架屏（Skeleton）加载效果
- **空状态**：无结果时显示友好提示

### 4.5 分页模块

#### 4.5.1 分页器

- **位置**：案例列表底部
- **功能**：
  - 页码跳转
  - 上一页/下一页
  - 每页数量选择（20/40/60）
  - 显示总记录数和总页数
  - 快速跳转到首页/末页

#### 4.5.2 无限滚动（可选）

- 滚动到底部自动加载更多
- 显示加载中状态
- 支持切换回分页模式

### 4.6 案例详情模块

#### 4.6.1 详情页布局

```
┌─────────────────────────────────────┐
│  [返回按钮] 案例详情                  │
├─────────────────────────────────────┤
│  [主图/视频]                         │
│                                      │
├─────────────────────────────────────┤
│  案例标题                            │
│  品牌 | 行业 | 活动类型 | 发布时间    │
│  ⭐⭐⭐⭐⭐ 评分 | 💖 收藏数          │
│  [标签1] [标签2] [标签3]              │
├─────────────────────────────────────┤
│  案例描述                            │
│  （完整描述内容）                     │
├─────────────────────────────────────┤
│  图片展示                            │
│  [图片1] [图片2] [图片3] ...         │
├─────────────────────────────────────┤
│  相关信息                            │
│  作者 | 公司 | 广告公司               │
│  来源链接                            │
├─────────────────────────────────────┤
│  相关案例推荐                        │
│  [相关案例卡片] ...                  │
└─────────────────────────────────────┘
```

#### 4.6.2 详情页功能

- **图片展示**：图片画廊，支持放大查看
- **视频播放**：如果有视频，支持在线播放
- **分享功能**：分享到社交媒体或复制链接
- **收藏功能**：收藏/取消收藏案例
- **相关推荐**：基于相似度推荐相关案例

### 4.7 结果统计模块

#### 4.7.1 统计信息展示

- **位置**：案例列表上方
- **内容**：
  - 总记录数："找到 X 个案例"
  - 当前页范围："显示第 X-Y 条"
  - 当前筛选条件摘要

## 5. UI/UX 设计

### 5.1 设计风格

**推荐：现代简约风格**

- **色彩方案**：

  - 主色：蓝色系（专业、可信）
  - 辅助色：橙色/红色（强调、行动）
  - 中性色：灰色系（文字、背景）
  - 背景：浅灰色/白色

- **字体**：

  - 中文：PingFang SC / Microsoft YaHei
  - 英文：Inter / Roboto
  - 字号：12px - 24px

- **圆角**：统一使用 4px - 8px 圆角
- **阴影**：卡片使用轻微阴影，增加层次感
- **间距**：使用 8px 基准网格系统

### 5.2 交互设计

#### 5.2.1 搜索交互

- 输入时实时显示搜索建议
- 支持回车键搜索
- 清空按钮快速清除输入
- 搜索历史快速访问

#### 5.2.2 筛选交互

- 筛选条件实时生效（或点击"应用"按钮）
- 已选条件高亮显示
- 支持快速清除单个或全部条件
- 筛选结果数量实时更新

#### 5.2.3 加载状态

- 搜索/筛选时显示加载动画
- 列表加载使用骨架屏
- 错误状态显示友好提示

#### 5.2.4 反馈机制

- 操作成功提示（Toast）
- 错误提示（Modal 或 Toast）
- 空状态友好提示
- 加载进度指示

### 5.3 性能优化

#### 5.3.1 图片优化

- 图片懒加载
- 使用 WebP 格式（兼容性考虑）
- 响应式图片（不同尺寸）
- 图片占位符

#### 5.3.2 代码优化

- 路由懒加载
- 组件按需加载
- 代码分割
- Tree Shaking

#### 5.3.3 请求优化

- 防抖（搜索输入）
- 节流（滚动事件）
- 请求缓存（React Query）
- 请求取消（切换页面时）

## 6. 项目结构

### 6.1 目录结构

```
frontend/
├── public/                 # 静态资源
│   ├── index.html
│   └── favicon.ico
├── src/
│   ├── assets/            # 资源文件
│   │   ├── images/
│   │   ├── styles/
│   │   │   ├── variables.css    # CSS 变量
│   │   │   └── global.less      # 全局样式
│   │   └── fonts/
│   ├── components/         # 公共组件
│   │   ├── Layout/
│   │   │   ├── Header.tsx
│   │   │   ├── Footer.tsx
│   │   │   └── Sidebar.tsx
│   │   ├── Search/
│   │   │   ├── SearchBox.tsx
│   │   │   └── SearchSuggestions.tsx
│   │   ├── Filter/
│   │   │   ├── FilterSidebar.tsx
│   │   │   ├── BrandFilter.tsx
│   │   │   ├── IndustryFilter.tsx
│   │   │   └── ...
│   │   ├── Case/
│   │   │   ├── CaseCard/
│   │   │   │   ├── index.tsx
│   │   │   │   └── index.module.less
│   │   │   ├── CaseList.tsx
│   │   │   └── CaseDetail.tsx
│   │   └── Common/
│   │       ├── Loading.tsx
│   │       └── Empty.tsx
│   ├── pages/             # 页面组件
│   │   ├── Home/
│   │   ├── Cases/
│   │   │   ├── CasesList.tsx
│   │   │   └── CaseDetail.tsx
│   │   └── About/
│   ├── hooks/             # 自定义 Hooks
│   │   ├── useSearch.ts
│   │   ├── useFilter.ts
│   │   └── useCases.ts
│   ├── services/          # API 服务
│   │   ├── api.ts
│   │   └── caseService.ts
│   ├── store/             # 状态管理
│   │   ├── searchStore.ts
│   │   └── filterStore.ts
│   ├── utils/             # 工具函数
│   │   ├── request.ts
│   │   ├── format.ts
│   │   └── constants.ts
│   ├── types/             # TypeScript 类型
│   │   ├── case.ts
│   │   └── api.ts
│   ├── App.tsx            # 根组件
│   ├── main.tsx           # 入口文件
│   └── router.tsx         # 路由配置
├── .env                   # 环境变量
├── .gitignore
├── package.json
├── tsconfig.json
├── vite.config.ts
└── README.md
```

### 6.2 组件设计原则

- **单一职责**：每个组件只负责一个功能
- **可复用性**：公共组件可复用
- **可维护性**：代码清晰，注释完整
- **类型安全**：使用 TypeScript 严格类型

## 7. API 集成

### 7.1 API 端点

- `GET /api/v1/cases/search` - 案例检索
- `GET /api/v1/cases/{case_id}` - 案例详情
- `GET /api/v1/cases/filters` - 筛选选项（待实现）
- `GET /api/v1/cases/stats` - 统计信息（待实现）

### 7.2 请求封装

```typescript
// services/api.ts
import axios from "axios";

const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || "http://localhost:8000",
  timeout: 10000,
});

// 请求拦截器
api.interceptors.request.use((config) => {
  // 添加认证 token 等
  return config;
});

// 响应拦截器
api.interceptors.response.use(
  (response) => {
    // 统一处理响应
    return response.data;
  },
  (error) => {
    // 统一错误处理
    return Promise.reject(error);
  }
);

export default api;
```

### 7.3 数据获取

使用 React Query 进行数据获取和缓存：

```typescript
// hooks/useCases.ts
import { useQuery } from "@tanstack/react-query";
import { caseService } from "@/services/caseService";

export const useCases = (params: SearchParams) => {
  return useQuery({
    queryKey: ["cases", params],
    queryFn: () => caseService.search(params),
    staleTime: 5 * 60 * 1000, // 5 分钟
  });
};
```

## 8. 开发计划

### 阶段一：项目搭建和基础组件（2-3 天）

- [ ] 创建项目，配置开发环境
- [ ] 搭建路由和布局
- [ ] 实现 Header、Footer 组件
- [ ] 配置 API 请求封装

### 阶段二：搜索和筛选功能（3-4 天）

- [ ] 实现搜索框组件
- [ ] 实现搜索建议功能
- [ ] 实现筛选侧边栏
- [ ] 实现各筛选组件（品牌、行业、标签等）
- [ ] 实现筛选条件联动

### 阶段三：案例列表展示（2-3 天）

- [ ] 实现案例卡片组件
- [ ] 实现案例列表组件
- [ ] 实现排序功能
- [ ] 实现分页功能
- [ ] 实现关键词高亮

### 阶段四：案例详情页（2 天）

- [ ] 实现案例详情页布局
- [ ] 实现图片画廊
- [ ] 实现相关案例推荐
- [ ] 实现分享和收藏功能

### 阶段五：优化和测试（2-3 天）

- [ ] 性能优化（懒加载、代码分割）
- [ ] 响应式适配
- [ ] 浏览器兼容性测试
- [ ] 用户体验优化
- [ ] 错误处理和边界情况

### 阶段六：部署和上线（1-2 天）

- [ ] 生产环境构建
- [ ] 部署配置
- [ ] 性能监控配置

**总计：12-17 天**

## 9. 技术难点和解决方案

### 9.1 关键词高亮

- **方案**：使用正则表达式匹配关键词，用 `<mark>` 标签包裹
- **优化**：支持多个关键词高亮，区分大小写

### 9.2 筛选条件同步

- **方案**：使用 URL 参数同步筛选条件，支持分享和书签
- **实现**：使用 React Router 的 `useSearchParams`

### 9.3 性能优化

- **防抖**：搜索输入使用防抖，减少请求次数
- **虚拟滚动**：如果列表很长，考虑使用虚拟滚动
- **图片懒加载**：使用 `Intersection Observer` API

### 9.4 响应式适配

- **方案**：使用 Ant Design 的响应式栅格系统
- **断点**：xs (< 576px), sm (≥ 576px), md (≥ 768px), lg (≥ 992px), xl (≥ 1200px)

## 10. 后续扩展

### 10.1 功能扩展

- 用户认证和授权
- 案例收藏功能（需要后端支持）
- 检索历史记录
- 个性化推荐
- 案例对比功能

### 10.2 性能扩展

- 服务端渲染（SSR）
- 静态站点生成（SSG）
- CDN 加速
- 图片 CDN

### 10.3 体验优化

- 暗色模式
- 国际化（i18n）
- 无障碍访问（a11y）
- PWA 支持

## 11. 总结

### 11.1 技术选型优势

- **React + TypeScript**：类型安全，开发效率高
- **Ant Design 5**：组件丰富（60+），开箱即用，企业级验证
- **Vite**：开发体验好，构建速度快
- **React Query**：数据获取和缓存自动化
- **Zustand**：轻量级状态管理，API 简洁
- **统一组件库**：单一组件库，学习成本低，维护简单

### 11.2 设计优势

- **简洁易用**：界面简洁，操作直观
- **响应式**：适配各种设备
- **性能优秀**：优化加载和渲染性能
- **可扩展**：模块化设计，易于扩展

### 11.3 开发优势

- **开发效率高**：使用成熟的技术栈和组件库
- **维护成本低**：代码结构清晰，易于维护
- **用户体验好**：现代化的 UI/UX 设计

---

**方案版本**: v1.0  
**创建时间**: 2024-01-XX  
**待确认**: 请确认技术选型和设计方案是否符合需求

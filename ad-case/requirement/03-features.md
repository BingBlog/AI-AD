## 详细功能

### 案例挖掘

#### 功能描述

案例挖掘模块负责从指定的网站和平台自动采集广告创意案例，建立案例数据源。

#### 支持的目标网站类型

1. **广告行业网站**：

   - 广告门、数英网、SocialBeta 等专业广告案例网站
   - 支持文章列表页、详情页的采集

2. **品牌官方平台**：

   - 品牌官网、官方微博、微信公众号等
   - 支持活动页面、案例展示页的采集

3. **社交媒体平台**：

   - 小红书、抖音、B 站等平台的营销案例
   - 支持视频、图文等多种内容形式

4. **行业报告平台**：
   - 艾瑞咨询、易观分析等数据平台的案例报告
   - 支持 PDF、网页等多种格式

#### 爬虫技术方案概述

1. **技术选型**：

   - 使用 Python 爬虫框架（如 Scrapy、Selenium 等）
   - 支持 JavaScript 渲染页面的动态内容采集
   - 支持 API 接口数据采集

2. **采集策略**：

   - 定时采集：支持按天、周、月等周期自动采集
   - 增量采集：只采集新增和更新的内容
   - 智能去重：识别重复案例，避免重复采集

3. **反爬虫处理**：
   - 请求频率控制，避免对目标网站造成压力
   - 支持代理 IP 轮换
   - 模拟真实浏览器行为，降低被封风险

#### 数据采集频率和策略

1. **采集频率**：

   - 热门网站：每日采集一次
   - 一般网站：每周采集 2-3 次
   - 低频网站：每月采集一次
   - 支持手动触发采集

2. **采集策略**：
   - 优先采集最新发布的案例
   - 根据案例热度、质量进行优先级排序
   - 支持关键词过滤，只采集相关案例

#### 数据源管理

1. **数据源配置**：

   - 支持添加、编辑、删除数据源
   - 配置数据源的采集规则和参数
   - 设置数据源的采集频率和优先级

2. **采集监控**：

   - 实时监控采集任务状态
   - 记录采集日志和错误信息
   - 支持采集任务的暂停、恢复、重试

3. **数据源统计**：
   - 统计各数据源的采集数量
   - 分析数据源的质量和贡献度
   - 优化数据源配置策略

#### 爬取任务管理（新增功能）

1. **任务创建和管理**：

   - 通过前端界面创建爬取任务，无需手动执行脚本
   - 灵活配置爬取参数（页码范围、案例类型、搜索关键词等）
   - 支持任务名称、描述等元数据管理
   - 查看所有任务的列表和历史记录

2. **实时进度监控**：

   - 实时查看爬取进度（已完成页数、总页数、进度百分比）
   - 实时查看统计信息（已爬取数、已保存数、失败数、成功率）
   - 可视化进度条展示
   - 实时日志查看（支持按级别筛选和搜索）
   - 预计剩余时间估算

3. **任务控制**：

   - **开始执行**：启动等待中的任务
   - **暂停**：暂停运行中的任务，保存当前进度
   - **恢复**：恢复已暂停的任务，从暂停位置继续
   - **终止**：终止运行中的任务（不保存进度）
   - **重试**：重新执行已失败的任务
   - **删除**：删除已完成或已取消的任务

4. **任务配置**：

   - **爬取范围**：设置起始页码和结束页码
   - **筛选条件**：案例类型、搜索关键词、品牌、行业等
   - **高级配置**：批次大小、请求延迟、重试次数、断点续传等
   - **执行策略**：立即执行、定时执行、仅保存配置

5. **任务历史和统计**：

   - 查看所有历史任务记录
   - 任务执行统计（总任务数、成功率、平均执行时长等）
   - 时间趋势分析（每日任务数、爬取案例数趋势图）

详细需求请参考：[爬取任务管理功能需求文档](./10-crawl-task-management.md)

### 内容清洗

#### 功能描述

内容清洗模块负责将采集到的原始案例数据，按照结构化的信息进行提取、清洗和标准化，转换为可检索的结构化数据。

#### 结构化信息字段定义

每个案例应包含以下结构化信息：

1. **基本信息**：

   - 案例标题：广告活动的名称
   - 案例描述：活动的主要内容和创意亮点
   - 案例链接：原始案例的 URL 地址
   - 案例图片：活动的主要视觉素材（支持多张）
   - 案例视频：活动视频链接（如有）

2. **品牌信息**：

   - 品牌名称：广告主/品牌方名称
   - 品牌行业：所属行业分类（如快消、汽车、互联网等）
   - 品牌类型：品牌性质（如国际品牌、本土品牌等）

3. **活动信息**：

   - 活动类型：广告活动类型（如品牌传播、产品推广、节日营销等）
   - 活动主题：活动的核心主题或 slogan
   - 活动时间：活动发布时间和持续时间
   - 活动地点：活动覆盖区域（如全国、特定城市等）

4. **主办方信息**：

   - 广告公司：负责创意的广告公司
   - 代理公司：负责执行的代理公司
   - 媒体平台：投放的媒体平台

5. **标签信息**：

   - 创意标签：创意形式标签（如 H5、短视频、直播等）
   - 内容标签：内容主题标签（如情感营销、IP 合作、UGC 等）
   - 行业标签：行业相关标签
   - 自定义标签：用户自定义的标签

6. **数据指标**：
   - 曝光量：活动曝光数据（如有）
   - 互动量：用户互动数据（如有）
   - 传播效果：传播效果评估（如有）

#### 数据提取规则和标准

1. **文本提取**：

   - 使用 NLP 技术提取标题、描述等文本信息
   - 识别和提取关键信息（品牌名、时间、地点等）
   - 去除无关内容和广告信息

2. **图片提取**：

   - 提取案例中的主要图片
   - 支持图片去重和压缩
   - 生成缩略图用于展示

3. **结构化提取**：

   - 使用规则引擎和机器学习模型提取结构化信息
   - 识别品牌、行业、活动类型等分类信息
   - 提取时间、地点等关键信息

4. **标签生成**：
   - 基于内容自动生成标签
   - 支持关键词提取和标签推荐
   - 允许人工审核和调整标签

#### 数据质量校验机制

1. **完整性校验**：

   - 检查必填字段是否完整
   - 验证关键信息的有效性
   - 识别数据缺失情况

2. **准确性校验**：

   - 验证品牌名称、时间等信息的准确性
   - 检查链接的有效性
   - 识别和修正错误信息

3. **去重机制**：

   - 识别重复案例（基于标题、链接、内容相似度）
   - 合并重复案例或标记为重复
   - 保留质量更高的版本

4. **质量评分**：
   - 对每个案例进行质量评分
   - 基于完整性、准确性、丰富度等维度
   - 低质量案例需要人工审核

#### 数据存储格式和结构

1. **存储格式**：

   - 使用关系型数据库存储结构化数据
   - 使用对象存储存储图片、视频等媒体文件
   - 使用搜索引擎存储全文检索数据

2. **数据结构**：

   - 案例主表：存储案例基本信息
   - 标签关联表：存储案例与标签的多对多关系
   - 媒体文件表：存储图片、视频等媒体文件信息
   - 采集日志表：记录数据采集和清洗过程

3. **数据版本管理**：
   - 记录案例的创建和更新时间
   - 支持案例信息的版本历史
   - 支持数据回滚和恢复

### 案例检索

#### 功能描述

案例检索模块提供强大的检索功能，支持用户通过多种方式快速找到相关的广告创意案例。

#### 检索维度详细说明

1. **标签检索**：

   - 支持按创意标签检索（如 H5、短视频、直播等）
   - 支持按内容标签检索（如情感营销、IP 合作等）
   - 支持多标签组合检索
   - 支持标签的模糊匹配

2. **品牌检索**：

   - 支持按品牌名称检索
   - 支持品牌名称的模糊搜索
   - 支持按品牌行业筛选
   - 支持品牌行业的模糊搜索（输入部分关键词即可匹配，如输入"汽车"可匹配"汽车"、"汽车、家电"等）
   - 支持多品牌对比检索

3. **主办方检索**：

   - 支持按广告公司检索
   - 支持按代理公司检索
   - 支持按媒体平台筛选

4. **行业检索**：

   - 支持按行业分类筛选（如快消、汽车、互联网等）
   - 支持行业名称的模糊搜索（输入部分关键词即可匹配）
   - 支持跨行业检索
   - 支持行业细分筛选

5. **活动类型检索**：

   - 支持按活动类型筛选（如品牌传播、产品推广等）
   - 支持活动类型的模糊搜索（输入部分关键词即可匹配，如输入"影视"可匹配"影视"、"影视广告"等）
   - 支持多活动类型组合检索

6. **活动地点检索**：

   - 支持按活动地点筛选（如全国、特定城市、地区等）
   - 支持活动地点的模糊搜索（输入部分关键词即可匹配，如输入"中国"可匹配"中国大陆"、"中国香港"等）

7. **时间范围检索**：

   - 支持按发布时间筛选
   - 支持时间范围选择（如最近一周、最近一月、自定义时间范围）
   - 支持按年份、季度筛选

8. **关键词检索**：
   - 支持全文搜索，检索标题、描述、标签等字段
   - 支持关键词高亮显示
   - 支持多关键词组合搜索
   - 支持关键词的模糊匹配和同义词扩展

#### 检索方式

1. **关键词搜索**：

   - 提供搜索框，支持输入关键词进行全文搜索
   - 支持搜索建议和自动补全
   - 支持搜索历史记录

2. **筛选检索**：

   - 提供多维度筛选器（品牌、行业、标签、时间等）
   - 支持多条件组合筛选
   - 支持筛选条件的保存和复用
   - 筛选字段支持模糊搜索：
     - 品牌名称、品牌行业、活动类型、活动地点四个字段均支持输入部分关键词进行模糊匹配
     - 搜索内容基于数据库中实际存在的数据范围
     - 支持输入提示和自动补全功能（可选），显示匹配的候选值列表和对应的案例数量
     - 用户可以直接输入任意文本进行搜索，也可以从候选列表中选择

3. **排序功能**：

   - 按时间排序（最新、最旧）
   - 按相关性排序
   - 按质量评分排序
   - 按热度排序（如有数据）

4. **高级检索**：
   - 支持复杂的检索表达式
   - 支持布尔运算符（AND、OR、NOT）
   - 支持字段限定检索（如"品牌:耐克"）

#### 检索结果展示方式

1. **列表展示**：

   - 以卡片形式展示案例
   - 显示案例标题、品牌、时间、标签等关键信息
   - 显示案例主图缩略图
   - 支持分页或无限滚动

2. **详情展示**：

   - 点击案例进入详情页
   - 展示案例的完整信息
   - 展示案例的所有图片和视频
   - 显示相关案例推荐

3. **结果统计**：

   - 显示检索结果总数
   - 显示当前筛选条件
   - 支持结果导出功能

4. **交互功能**：
   - 支持案例收藏功能
   - 支持案例分享功能
   - 支持案例反馈和纠错
   - 支持相关案例推荐

#### 高级检索功能

1. **智能推荐**：

   - 基于用户检索历史推荐相关案例
   - 基于当前案例推荐相似案例
   - 基于用户画像推荐个性化案例

2. **检索优化**：

   - 支持同义词扩展，提高检索召回率
   - 支持拼写纠错
   - 支持检索结果的相关性排序优化

3. **检索分析**：
   - 记录用户检索行为
   - 分析热门检索词和检索趋势
   - 优化检索算法和结果质量
4. **检索分析**：
   - 记录用户检索行为
   - 分析热门检索词和检索趋势
   - 优化检索算法和结果质量
